{"version":3,"file":"static/js/502.3e9b1897.chunk.js","mappings":"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","sources":["api/request.ts","api/tuiwen.ts","components/sandbox/SideMenu.tsx","hooks/useDynamicRoute.ts","webpack://association/./src/pages/sandbox/Home/Home.module.css?ca13","webpack://association/./src/pages/sandbox/Home/Tuiwen/index.module.css?0d0e","pages/sandbox/Home/Tuiwen/index.tsx","components/Departahow.tsx","api/resourcedata.ts","webpack://association/./src/pages/sandbox/Home/Resource/index.module.css?1869","pages/sandbox/Home/Resource/index.tsx","pages/sandbox/Home/index.tsx","utils/commonurl.ts","webpack://association/./src/components/sandbox/index.module.css?5209"],"sourcesContent":["/**\n * 封装axios\n */\nimport axios from 'axios';\nimport { message } from 'antd';\nimport { mockurl } from '@/utils/commonurl';\n\n// 定义常见的错误信息\nconst TOKEN_ERROR = 'Token认证失败，请重新登录';\nconst NETWORK_ERROR = '网络异常，请检查网络后重试';\n\n// BASEURL 定义可以同时请求多个端口号\nconst BASEURL = 'http://localhost:3000';\n\n// 创建axios实例对象，添加全局配置\nconst service = axios.create({\n  baseURL: BASEURL,\n  timeout: 8000, // 请求超时时间\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// 请求拦截\nservice.interceptors.request.use((config: any) => {\n  // 在请求发送前进行验证\n\n  const { headers } = config;\n\n  encodeURIComponent(config.params);\n  // 添加token之类的东西\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    headers!.common.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n});\n\n// 响应拦截\nservice.interceptors.response.use((config) => {\n  const { status, data } = config;\n  const mockurl1 = '/mock';\n  if (status === 200) {\n    if (mockurl.match(mockurl1) !== null) {\n      return data;\n    }\n    return { data };\n  } else if (status === 1005) {\n    // 和后台约定的，Token过期，code是1005\n    message.error(TOKEN_ERROR);\n    return Promise.reject(TOKEN_ERROR);\n  } else {\n    message.error(NETWORK_ERROR);\n    return Promise.reject(NETWORK_ERROR);\n  }\n});\n\n// 请求核心函数，options 请求配置\nfunction request(options) {\n  // eslint-disable-next-line no-param-reassign\n  options.method = options.method || 'get'; // 如果是get请求的话，则将data中的数据转移到params中\n  if (options.method.toLowerCase() === 'get') {\n    // eslint-disable-next-line no-param-reassign\n    options.params = options.data;\n  }\n\n  if (process.env.NODE_ENV === 'production') {\n    // 在正式环境中，不管有没有开启moke开关，都使用正式环境base_url，以防万一\n    service.defaults.baseURL = process.env.BASEURL;\n  } else {\n    // VUE_APP_MOCK为1，代表开启moke模式\n    service.defaults.baseURL =\n      process.env.VUE_APP_MOCK === '1'\n        ? process.env.VUE_APP_MOCK_API\n        : process.env.VUE_APP_BASE_API;\n  }\n\n  return service(options);\n}\n/**\n * 可以通过 request.get() 方式调用\n */\n['get', 'post', 'put', 'delete', 'patch'].forEach((item) => {\n  request[item] = (url, data, options) => {\n    return request({\n      method: item,\n      url,\n      data,\n      ...options,\n    });\n  };\n});\n\n// export default request;\nexport default service;\n","import request from './request';\nimport { mockurl } from '@/utils/commonurl';\n\nexport interface ITuiwen {\n  type: number;\n  id: number;\n  method: string;\n}\n\nexport interface IArticle {\n  id: number;\n  link: string;\n  title: string;\n  uploadtime: string;\n}\n// 删除推文\nexport const deleteTuiwen = (data: ITuiwen) => {\n  return request.post(`${mockurl}/resourcedata`, data);\n};\n\n// 获取推文\nexport const getTuiwen = (num: number) => {\n  return request.get(`${mockurl}/resourcedata`, { params: { type: 1, currentPage: num } });\n};\n\n// 增添推文\nexport const addTuiwen = (data) => {\n  return request.post(`${mockurl}/resourcedata`, data);\n};\n","import React, { useEffect, useState } from 'react';\nimport { Layout, Menu, Drawer, Button, Tooltip } from 'antd';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  MenuFoldOutlined,\n  UserOutlined,\n  AppstoreOutlined,\n  UploadOutlined,\n  TableOutlined,\n} from '@ant-design/icons';\nimport style from './index.module.css';\nimport { connect } from 'react-redux';\nimport path from '../../assets/photologo.png';\nimport useDynamicRoute from '@/hooks/useDynamicRoute';\nimport { useAuth } from '@/utils/auth/AuthProvider';\n\nconst { Sider } = Layout;\n// const { SubMenu } = Menu;\nexport const menuList = [\n  {\n    key: '/association.github.io',\n    label: '首页',\n    icon: <UserOutlined />,\n    roles: ['admin', 'member', 'shuziStaff', 'jishuStaff', 'mishuStaff', 'yanceStaff'],\n  },\n  {\n    key: '/resource',\n    label: '上传资源',\n    icon: <AppstoreOutlined />,\n    children: [\n      {\n        key: '/resource/Shuzi',\n        label: '数资部',\n        icon: <UploadOutlined />,\n        roles: ['admin', 'shuziStaff'],\n      },\n      {\n        key: '/resource/Jishu',\n        label: '技术部',\n        icon: <UploadOutlined />,\n        roles: ['admin', 'jishuStaff'],\n      },\n      {\n        key: '/resource/Mishu',\n        label: '秘书处',\n        icon: <UserOutlined />,\n        children: [\n          {\n            key: '/resource/Mishu/arrange',\n            label: '管理',\n            icon: <UserOutlined />,\n          },\n          {\n            key: '/resource/Mishu/upload',\n            label: '上传',\n            icon: <UploadOutlined />,\n          },\n        ],\n        roles: ['admin', 'mishuStaff'],\n      },\n      {\n        key: '/resource/Yance',\n        label: '研策部',\n        icon: <UploadOutlined />,\n        roles: ['admin', 'yanceStaff'],\n      },\n    ],\n  },\n  {\n    key: '/schedule',\n    label: '课表展示',\n    icon: <TableOutlined />,\n    roles: ['admin', 'shuziStaff', 'jishuStaff', 'mishuStaff', 'yanceStaff'],\n  },\n];\nconst publicMenu = [\n  {\n    key: '/association.github.io',\n    label: '首页',\n    icon: <UserOutlined />,\n    roles: ['admin', 'member', 'shuziStaff', 'jishuStaff', 'mishuStaff', 'yanceStaff'],\n  },\n];\nfunction SideMenu(props) {\n  const { getAccess } = useDynamicRoute();\n  const auth = useAuth();\n  const dynamicMenuList = auth.user ? getAccess() : publicMenu;\n  const navigate = useNavigate();\n  const renderMenu = (menuData) => {\n    navigate(menuData.key);\n  };\n  const [visible, setVisible] = useState(false);\n  const showDrawer = () => {\n    setVisible(true);\n  };\n  const onClose = () => {\n    setVisible(false);\n  };\n  const [logostyle, setlogostyle] = useState('');\n  useEffect(() => {\n    if (props.isCollapsed) {\n      setlogostyle(style.banvisible);\n    } else {\n      setlogostyle('');\n    }\n  }, [props.isCollapsed]);\n  return (\n    <>\n      <Sider className=\"sider\" trigger={null} collapsible collapsed={props.isCollapsed}>\n        <div style={{ display: 'flex', height: '100%', flexDirection: 'column' }}>\n          <div className={style.logo}>\n            <img src={path} />\n            <span className={logostyle}>社团管理</span>\n          </div>\n          <div style={{ flex: 1, overflow: 'auto' }}>\n            <Menu\n              theme=\"dark\"\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              items={dynamicMenuList}\n              onClick={renderMenu}\n            />\n          </div>\n        </div>\n      </Sider>\n      <Drawer\n        placement={'left'}\n        width={220}\n        onClose={onClose}\n        open={visible}\n        bodyStyle={{ backgroundColor: '#001529', padding: '0' }}\n        headerStyle={{ display: 'none' }}\n      >\n        <div style={{ display: 'flex', height: '100%', flexDirection: 'column' }}>\n          <div className={style.logo}>\n            {/* <img src={path} /> */}\n            社团管理\n          </div>\n          <div style={{ flex: 1, overflow: 'auto' }}>\n            <Menu\n              theme=\"dark\"\n              mode=\"inline\"\n              defaultSelectedKeys={['1']}\n              items={dynamicMenuList}\n              onClick={renderMenu}\n            />\n          </div>\n        </div>\n      </Drawer>\n      <Tooltip title=\"打开菜单\" placement={'bottomRight'}>\n        <Button className={style.openstyle} onClick={showDrawer}>\n          <MenuFoldOutlined style={{ color: 'white', fontSize: '20px' }} />\n        </Button>\n      </Tooltip>\n    </>\n  );\n}\nconst mapStateToProps = ({ CollapsedReducer: { isCollapsed } }) => ({\n  isCollapsed,\n});\nexport default connect(mapStateToProps)(SideMenu);\n","import { IUser } from '@/api/User';\nimport { menuList } from '@/components/sandbox/SideMenu';\nimport { message } from 'antd';\nimport { useNavigate } from 'react-router';\n\nexport enum ERoles {\n  'admin' = '',\n  '会员' = 'member',\n  '数资部工作人员' = 'shuziStaff',\n  '技术部工作人员' = 'jishuStaff',\n  '秘书处工作人员' = 'mishuStaff',\n  '研策部工作人员' = 'yanceStaff',\n}\n\n// 是否有相应的权限，没有隐藏菜单项或禁止使用\nexport default function useDynamicRoute() {\n  const userInfoStr = localStorage.getItem('userInfo');\n  const navigate = useNavigate();\n  const userInfo: IUser = userInfoStr ? JSON.parse(userInfoStr) : null;\n  const getAccess = () => {\n    if (!userInfo) {\n      message.error('还未登录');\n      navigate('/login');\n      return;\n    }\n    const roles = userInfo.role && userInfo.role[0].rolevalue;\n\n    const dynamicMenuList = menuList.map((menu) => {\n      if (menu.roles && menu.roles.includes(ERoles[roles])) {\n        return menu;\n      }\n      return {\n        key: menu.key,\n        label: menu.label,\n        icon: menu.icon,\n        children: menu.children?.filter((child) => {\n          return child.roles.includes(ERoles[roles]);\n        }),\n      };\n    });\n    return dynamicMenuList;\n  };\n\n  const showOrNotByRule = () => {\n    if (!userInfo) {\n      message.error('还未登录');\n      navigate('/login');\n      return;\n    }\n    const roles = userInfo.role && userInfo.role[0].rolevalue;\n    if (roles === '秘书处工作人员' || roles === 'admin') {\n      return true;\n    }\n    return false;\n  };\n  return { getAccess, showOrNotByRule };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"departcontent\":\"Home_departcontent__iN26i\",\"timestyle\":\"Home_timestyle__1yEZj\",\"departstyle\":\"Home_departstyle__elfVI\",\"homecontent\":\"Home_homecontent__wl3Zq\"};","// extracted by mini-css-extract-plugin\nexport default {\"bottomstyle\":\"Tuiwen_bottomstyle__030z1\",\"liststyle\":\"Tuiwen_liststyle__EJQF2\",\"buttonstyle\":\"Tuiwen_buttonstyle__28M5O\",\"pagestyle\":\"Tuiwen_pagestyle__c2hgJ\"};","import { Divider, Empty, List, Pagination, Avatar, Button, message } from 'antd';\nimport path from '@/assets/photologo.png';\nimport React, { useEffect, useState } from 'react';\nimport style from './index.module.css';\nimport { deleteTuiwen, getTuiwen, IArticle, ITuiwen } from '@/api/tuiwen';\nimport useDynamicRoute from '@/hooks/useDynamicRoute';\nimport { mockurl } from '@/utils/commonurl';\n\nexport default function Tuiwen() {\n  const [total, setTotal] = useState(1);\n  const [articledata, setArticleData] = useState<IArticle[]>([]);\n  const [limitSize] = useState(3); // 每一页最多显示的记录数量\n  const { showOrNotByRule } = useDynamicRoute();\n\n  useEffect(() => {\n    const asynFun = async () => {\n      const result = await getarticleData(1);\n      // console.log('result', result);\n      setArticleData(result);\n    };\n    asynFun();\n  }, []);\n  // 获取推文数据\n  const getarticleData = async (num: number) => {\n    const result = await getTuiwen(num);\n    const mockurl1 = '/mock';\n    if (mockurl.match(mockurl1) !== null) {\n      setTotal(7);\n      localStorage.setItem(`article${num}`, JSON.stringify(result.data));\n      return result.data;\n    } else {\n      setTotal(result.data[2]);\n      localStorage.setItem(`article${num}`, JSON.stringify(result.data[0]));\n    }\n    return result.data[0];\n  };\n\n  // 修改page数据\n  const pageonChange = (e) => {\n    // const article = localStorage.getItem('article');\n    // console.log(JSON.parse(article as string));\n    const asynFun = async () => {\n      const result = await getarticleData(e);\n      setArticleData(result);\n    };\n    asynFun();\n  };\n\n  // 删除推文\n  const handleDelete = (index) => {\n    const data: ITuiwen = {\n      type: 1,\n      id: index,\n      method: 'delete',\n    };\n    deleteTuiwen(data).then(() => {\n      // console.log(res.data);\n      message.success('删除成功');\n    });\n    const newdata = articledata.filter((item: IArticle) => {\n      return item.id !== index;\n    });\n    setArticleData(newdata);\n  };\n\n  return (\n    <div className={style.bottomstyle}>\n      <Divider orientation=\"left\">社团推文</Divider>\n      {articledata.length > 0 ? (\n        <List\n          className={style.liststyle}\n          itemLayout=\"horizontal\"\n          dataSource={articledata}\n          renderItem={(item: IArticle) => (\n            <List.Item>\n              <List.Item.Meta\n                avatar={<Avatar src={path} />}\n                title={\n                  <a href={item.link} target=\"_blank\" rel=\"noreferrer\">\n                    {item.title}\n                  </a>\n                }\n                description={item.uploadtime}\n              />\n              {showOrNotByRule() && (\n                <Button className={style.buttonstyle} onClick={() => handleDelete(item.id)}>\n                  delete\n                </Button>\n              )}\n            </List.Item>\n          )}\n        />\n      ) : (\n        <Empty />\n      )}\n\n      <Pagination\n        className={style.pagestyle}\n        defaultCurrent={1}\n        total={total}\n        defaultPageSize={limitSize}\n        onChange={pageonChange}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { Empty, Card } from 'antd';\nimport style from '../pages/sandbox/Home/Home.module.css';\n\nexport default function Departahow(props) {\n  const { departdata, departtitle } = props;\n  return (\n    <div className={style.departstyle}>\n      {/* 消息列表 */}\n      <Card title={departtitle}>\n        {departdata() && departdata().length !== 0 ? (\n          departdata().map((item) => (\n            <div key={item.id} className={style.departcontent}>\n              <p key={item.id}>\n                <a href={item.link} target=\"blank\">\n                  {item.title}\n                </a>\n              </p>\n              <p className={style.timestyle}>{item.uploadtime}</p>\n            </div>\n          ))\n        ) : (\n          <Empty />\n        )}\n      </Card>\n    </div>\n  );\n}\n","import request from './request';\nimport { mockurl } from '@/utils/commonurl';\n\nexport enum EresourceType {\n  MISHU = 4,\n  JISHU = 3,\n  YANCE = 5,\n  SHUZI = 2,\n}\n// 获取公告资源部门数据\nexport const getDepartmentData = async (type: number): Promise<string[]> => {\n  const res = await request.get(`${mockurl}/resourcedata`, { params: { type } });\n  return res.data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"resourcecontent\":\"Resource_resourcecontent__uvWRu\",\"leftresource\":\"Resource_leftresource__aPy2g\"};","import Departahow from '@/components/Departahow';\nimport { Divider, Layout, Menu, MenuProps } from 'antd';\nimport { UserOutlined, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\n\nimport React, { useEffect, useState } from 'react';\nimport style from './index.module.css';\nimport { EresourceType, getDepartmentData } from '@/api/resourcedata';\n\nconst { Sider } = Layout;\nconst menuItems: MenuProps['items'] = [\n  {\n    key: '1',\n    icon: <UserOutlined />,\n    label: '技术部',\n  },\n  {\n    key: '2',\n    icon: <LaptopOutlined />,\n    label: '数资部',\n  },\n  {\n    key: '3',\n    icon: <NotificationOutlined />,\n    label: '秘书处',\n  },\n  {\n    key: '4',\n    icon: <UserOutlined />,\n    label: '研策部',\n  },\n];\n\nexport default function Resource() {\n  const [departTitle, setDepTitle] = useState('技术部资源');\n  const [type, setType] = useState(3);\n  const initialState = () => {\n    let result: string[] = [];\n    const func = async () => {\n      const res = await getDepartmentData(EresourceType.MISHU);\n      result = res;\n    };\n    func();\n    return result;\n  };\n  const [shuzi, setShuzi] = useState<string[]>(initialState);\n  const [jishu, setJishu] = useState<string[]>(initialState);\n  const [mishu, setMishu] = useState<string[]>(initialState);\n  const [yance, setYance] = useState<string[]>(initialState);\n\n  useEffect(() => {\n    getDepartmentData(EresourceType.MISHU).then((res) => setMishu(() => res));\n    getDepartmentData(EresourceType.JISHU).then((res) => setJishu(() => res));\n    getDepartmentData(EresourceType.YANCE).then((res) => setYance(() => res));\n    getDepartmentData(EresourceType.SHUZI).then((res) => setShuzi(() => res));\n  }, []);\n\n  // 展示资源\n  const clickShowDepart = (e) => {\n    if (e.key === '1') {\n      setType(3);\n      setDepTitle('技术部资源');\n    }\n    if (e.key === '2') {\n      setType(2);\n      setDepTitle('数资部资源');\n    }\n    if (e.key === '3') {\n      setType(4);\n      setDepTitle('秘书处资源');\n    }\n    if (e.key === '4') {\n      setType(5);\n      setDepTitle('研策部资源');\n    }\n  };\n  // 展示部门数据\n  const showDepartment = () => {\n    if (type === 2) return shuzi;\n    else if (type === 3) return jishu;\n    else if (type === 4) return mishu;\n    else return yance;\n  };\n  return (\n    <>\n      <Divider orientation=\"left\">社团公共资源</Divider>\n      <div className={style.resourcecontent}>\n        <div className={style.leftresource}>\n          <Layout className=\"site-layout-background\">\n            <Sider className=\"site-layout-background\" style={{ maxWidth: '200px' }}>\n              <Menu\n                mode=\"inline\"\n                defaultSelectedKeys={['1']}\n                defaultOpenKeys={['sub1']}\n                style={{ height: '100%' }}\n                onClick={clickShowDepart}\n                items={menuItems}\n              />\n            </Sider>\n            <Departahow departtitle={departTitle} departdata={showDepartment} />\n          </Layout>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\nimport style from './Home.module.css';\nimport Tuiwen from './Tuiwen';\nimport Resource from './Resource';\nimport { useLocation } from 'react-router';\nimport useDynamicRoute from '@/hooks/useDynamicRoute';\n\nexport default function Home() {\n  const params = useLocation();\n  const { getAccess } = useDynamicRoute();\n\n  useEffect(() => {\n    getAccess();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [params.key]);\n  return (\n    <div className={style.homecontent}>\n      <Resource />\n      <Tuiwen />\n    </div>\n  );\n}\n","export const mockurl = '/mock';\n// '/mock';\n// '/association';\n","// extracted by mini-css-extract-plugin\nexport default {\"logo\":\"sandbox_logo__+35qp\",\"root\":\"sandbox_root__chouc\",\"layoutbody\":\"sandbox_layoutbody__xE0we\",\"sider\":\"sandbox_sider__xQbVF\",\"openstyle\":\"sandbox_openstyle__LXgUC\",\"menustyle\":\"sandbox_menustyle__Affer\",\"banvisible\":\"sandbox_banvisible__0BoZT\"};"],"names":["TOKEN_ERROR","NETWORK_ERROR","service","axios","baseURL","timeout","headers","request","options","method","toLowerCase","params","data","defaults","process","BASEURL","interceptors","use","config","encodeURIComponent","token","localStorage","getItem","common","Authorization","response","status","mockurl","message","Promise","reject","forEach","item","url","deleteTuiwen","getTuiwen","num","type","currentPage","addTuiwen","Sider","Layout","menuList","key","label","icon","roles","children","publicMenu","connect","isCollapsed","CollapsedReducer","props","getAccess","useDynamicRoute","dynamicMenuList","useAuth","user","navigate","useNavigate","renderMenu","menuData","useState","visible","setVisible","logostyle","setlogostyle","useEffect","style","className","trigger","collapsible","collapsed","display","height","flexDirection","src","path","flex","overflow","theme","mode","defaultSelectedKeys","items","onClick","placement","width","onClose","open","bodyStyle","backgroundColor","padding","headerStyle","title","color","fontSize","ERoles","userInfoStr","userInfo","JSON","parse","role","rolevalue","menu","includes","filter","child","showOrNotByRule","Tuiwen","total","setTotal","articledata","setArticleData","limitSize","asynFun","getarticleData","result","setItem","stringify","orientation","length","itemLayout","dataSource","renderItem","avatar","href","link","target","rel","description","uploadtime","index","id","then","newdata","handleDelete","defaultCurrent","defaultPageSize","onChange","e","Departahow","departdata","departtitle","map","EresourceType","getDepartmentData","res","menuItems","UserOutlined","LaptopOutlined","NotificationOutlined","Resource","departTitle","setDepTitle","setType","initialState","func","MISHU","shuzi","setShuzi","jishu","setJishu","mishu","setMishu","yance","setYance","JISHU","YANCE","SHUZI","maxWidth","defaultOpenKeys","Home","useLocation"],"sourceRoot":""}