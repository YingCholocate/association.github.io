"use strict";(self.webpackChunkassociation=self.webpackChunkassociation||[]).push([[472],{5044:function(e,s){s.Z={logo:"sandbox_logo__+35qp",root:"sandbox_root__chouc",layoutbody:"sandbox_layoutbody__xE0we",sider:"sandbox_sider__xQbVF",openstyle:"sandbox_openstyle__LXgUC",menustyle:"sandbox_menustyle__Affer",banvisible:"sandbox_banvisible__0BoZT"}},7352:function(e,s,n){n.d(s,{s:function(){return S}});var l=n(9439),i=n(8381),o=n(5958),a=n(7314),r=n(7528),t=n(1919),c=n(3308),u=n(2524),d=n(8118),f=n(5361),h=n(8759),m=n(4969),x=n(1026),y=n(5044),j=n(440),g=n(41),p=n(2535),b=n(7821),Z=n(9343),v=o.Z.Sider,S=[{key:"/association.github.io",label:"\u9996\u9875",icon:(0,Z.jsx)(d.Z,{}),roles:["admin","member","shuziStaff","jishuStaff","mishuStaff","yanceStaff"]},{key:"/resource",label:"\u4e0a\u4f20\u8d44\u6e90",icon:(0,Z.jsx)(f.Z,{}),children:[{key:"/resource/Shuzi",label:"\u6570\u8d44\u90e8",icon:(0,Z.jsx)(h.Z,{}),roles:["admin","shuziStaff"]},{key:"/resource/Jishu",label:"\u6280\u672f\u90e8",icon:(0,Z.jsx)(h.Z,{}),roles:["admin","jishuStaff"]},{key:"/resource/Mishu",label:"\u79d8\u4e66\u5904",icon:(0,Z.jsx)(d.Z,{}),children:[{key:"/resource/Mishu/arrange",label:"\u7ba1\u7406",icon:(0,Z.jsx)(d.Z,{})},{key:"/resource/Mishu/upload",label:"\u4e0a\u4f20",icon:(0,Z.jsx)(h.Z,{})}],roles:["admin","mishuStaff"]},{key:"/resource/Yance",label:"\u7814\u7b56\u90e8",icon:(0,Z.jsx)(h.Z,{}),roles:["admin","yanceStaff"]}]},{key:"/schedule",label:"\u8bfe\u8868\u5c55\u793a",icon:(0,Z.jsx)(m.Z,{}),roles:["admin","shuziStaff","jishuStaff","mishuStaff","yanceStaff"]}],k=[{key:"/association.github.io",label:"\u9996\u9875",icon:(0,Z.jsx)(d.Z,{}),roles:["admin","member","shuziStaff","jishuStaff","mishuStaff","yanceStaff"]}];s.Z=(0,j.$j)((function(e){return{isCollapsed:e.CollapsedReducer.isCollapsed}}))((function(e){var s=(0,p.Z)().getAccess,n=(0,b.a)().user?s():k,o=(0,u.s0)(),d=function(e){o(e.key)},f=(0,i.useState)(!1),h=(0,l.Z)(f,2),m=h[0],j=h[1],S=(0,i.useState)(""),C=(0,l.Z)(S,2),_=C[0],N=C[1];return(0,i.useEffect)((function(){e.isCollapsed?N(y.Z.banvisible):N("")}),[e.isCollapsed]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v,{className:"sider",trigger:null,collapsible:!0,collapsed:e.isCollapsed,children:(0,Z.jsxs)("div",{style:{display:"flex",height:"100%",flexDirection:"column"},children:[(0,Z.jsxs)("div",{className:y.Z.logo,children:[(0,Z.jsx)("img",{src:g}),(0,Z.jsx)("span",{className:_,children:"\u793e\u56e2\u7ba1\u7406"})]}),(0,Z.jsx)("div",{style:{flex:1,overflow:"auto"},children:(0,Z.jsx)(a.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],items:n,onClick:d})})]})}),(0,Z.jsx)(r.Z,{placement:"left",width:220,onClose:function(){j(!1)},open:m,bodyStyle:{backgroundColor:"#001529",padding:"0"},headerStyle:{display:"none"},children:(0,Z.jsxs)("div",{style:{display:"flex",height:"100%",flexDirection:"column"},children:[(0,Z.jsx)("div",{className:y.Z.logo,children:"\u793e\u56e2\u7ba1\u7406"}),(0,Z.jsx)("div",{style:{flex:1,overflow:"auto"},children:(0,Z.jsx)(a.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],items:n,onClick:d})})]})}),(0,Z.jsx)(t.Z,{title:"\u6253\u5f00\u83dc\u5355",placement:"bottomRight",children:(0,Z.jsx)(c.Z,{className:y.Z.openstyle,onClick:function(){j(!0)},children:(0,Z.jsx)(x.Z,{style:{color:"white",fontSize:"20px"}})})})]})}))},2535:function(e,s,n){n.d(s,{Z:function(){return r}});var l,i=n(7352),o=n(8979),a=n(2524);function r(){var e=localStorage.getItem("userInfo"),s=(0,a.s0)(),n=e?JSON.parse(e):null;return{getAccess:function(){if(!n)return o.ZP.error("\u8fd8\u672a\u767b\u5f55"),void s("/login");var e=n.role&&n.role[0].rolevalue;return i.s.map((function(s){var n;return s.roles&&s.roles.includes(l[e])?s:{key:s.key,label:s.label,icon:s.icon,children:null===(n=s.children)||void 0===n?void 0:n.filter((function(s){return s.roles.includes(l[e])}))}}))},showOrNotByRule:function(){if(!n)return o.ZP.error("\u8fd8\u672a\u767b\u5f55"),void s("/login");var e=n.role&&n.role[0].rolevalue;return"\u79d8\u4e66\u5904\u5de5\u4f5c\u4eba\u5458"===e||"admin"===e}}}!function(e){e.admin="",e["\u4f1a\u5458"]="member",e["\u6570\u8d44\u90e8\u5de5\u4f5c\u4eba\u5458"]="shuziStaff",e["\u6280\u672f\u90e8\u5de5\u4f5c\u4eba\u5458"]="jishuStaff",e["\u79d8\u4e66\u5904\u5de5\u4f5c\u4eba\u5458"]="mishuStaff",e["\u7814\u7b56\u90e8\u5de5\u4f5c\u4eba\u5458"]="yanceStaff"}(l||(l={}))},7472:function(e,s,n){n.r(s),n.d(s,{default:function(){return b}});n(8381);var l=n(2524),i=n(7352),o=n(5958),a=n(8979),r=n(3266),t=n(5280),c=n(440),u=n(5044),d=n(9282),f=n(1026),h=n(8118),m=n(245),x=n(7821),y=n(9343);function j(){var e=(0,x.a)();return e.user?(0,y.jsxs)("span",{style:{margin:"10px"},children:["\u6b22\u8fce",(0,y.jsx)("span",{style:{color:"lightblue"},children:e.user.username}),"\u56de\u6765"]}):(0,y.jsx)("span",{style:{margin:"10px"},children:"\u60a8\u8fd8\u6ca1\u6709\u767b\u5f55"})}var g=(0,c.$j)((function(e){return{isCollapsed:e.CollapsedReducer.isCollapsed}}),{changeCollapsed:function(){return{type:"change_collapsed"}}})((function(e){var s,n=o.Z.Header,i=(0,l.s0)();if(!localStorage.getItem("token")){localStorage.setItem("token",JSON.stringify({department:0,number:"67890",password:"3456",role:[{id:0,rolevalue:"\u79d8\u4e66\u5904\u5de5\u4f5c\u4eba\u5458"}],username:"admin"}))}var c=null===(s=(0,x.a)().user)||void 0===s?void 0:s.number,g=function(){e.changeCollapsed()},p=function(){localStorage.removeItem("token"),i("/login")},b=[{key:2,danger:!0,onClick:function(){(0,m.h8)(c).then((function(){a.ZP.success("\u6ce8\u9500\u6210\u529f"),setTimeout((function(){return p()}),3e3)}))},label:"\u6ce8\u9500"},{key:3,danger:!0,onClick:function(){p()},label:"\u9000\u51fa"}];return(0,y.jsxs)(n,{className:"site-layout-background",style:{padding:"0 12px"},children:[e.isCollapsed?(0,y.jsx)(d.Z,{className:u.Z.menustyle,style:{color:"white"},onClick:g}):(0,y.jsx)(f.Z,{className:u.Z.menustyle,style:{color:"white"},onClick:g}),(0,y.jsxs)("div",{style:{float:"right",color:"white",marginRight:"5px"},children:[(0,y.jsx)(j,{}),(0,y.jsx)(r.Z,{menu:{items:b},children:(0,y.jsx)(t.C,{size:"large",icon:(0,y.jsx)(h.Z,{})})})]})]})})),p=n(4543);var b=(0,c.$j)((function(e){return{isLoading:e.LoadingReducer.isLoading}}))((function(e){var s=o.Z.Content;return(0,y.jsxs)(o.Z,{className:"layoutbody",children:[(0,y.jsx)(i.Z,{}),(0,y.jsxs)(o.Z,{className:"site-layout",children:[(0,y.jsx)(g,{}),(0,y.jsx)(s,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:(0,y.jsx)(p.Z,{spinning:e.isLoading,children:(0,y.jsx)(l.j3,{})})})]})]})}))}}]);